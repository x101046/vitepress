<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>My Awesome Project</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.2.2">
    <link rel="preload stylesheet" href="/vitepress/assets/style.CX3kw4yQ.css" as="style">
    
    <script type="module" src="/vitepress/assets/app.CW3PBbL5.js"></script>
    <link rel="preload" href="/vitepress/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vitepress/assets/chunks/framework.CDiOzltk.js">
    <link rel="modulepreload" href="/vitepress/assets/chunks/theme.CUh00J8l.js">
    <link rel="modulepreload" href="/vitepress/assets/chunks/img7.k_v_EIIq.js">
    <link rel="modulepreload" href="/vitepress/assets/q_a_network_block5.md.M0Shii4o.lean.js">
    <link rel="icon" href="/img/logo.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/vitepress/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>My Awesome Project</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress/repository.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress/recommend/video/movie.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>个人推荐</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>前端</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/vitepress/frontend/vue.html" data-v-43f1e123><!--[-->vue<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/vitepress/frontend/algo.html" data-v-43f1e123><!--[-->算法<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>后端</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><p class="title" data-v-69e747b5>Node</p><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/vitepress/backend/node/nest/0-介绍/" data-v-43f1e123><!--[-->nestjs<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/vitepress/q&amp;a/html.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Q&A</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>其他</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/vitepress/other/game/魔兽/" data-v-43f1e123><!--[-->游戏<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/vitepress/q&amp;a/html/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>HTML</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/vitepress/q&amp;a/css/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>CSS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/vitepress/q&amp;a/js/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>JS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/vitepress/q&amp;a/chrome/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>浏览器原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/vitepress/q&amp;a/performance/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>性能优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/vitepress/q&amp;a/network/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>计算机网络</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>本页目录</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _vitepress_q&amp;a_network_block5" data-v-39a288b8><div><h2 id="五、网络模型" tabindex="-1">五、网络模型 <a class="header-anchor" href="#五、网络模型" aria-label="Permalink to &quot;五、网络模型&quot;">​</a></h2><h3 id="_1-osi七层模型" tabindex="-1">1. OSI七层模型 <a class="header-anchor" href="#_1-osi七层模型" aria-label="Permalink to &quot;1. OSI七层模型&quot;">​</a></h3><p><code>ISO</code>为了更好的使网络应用更为普及，推出了<code>OSI</code>参考模型。 <img src="/vitepress/assets/img3.DUN8Txxr.webp" alt="img3"></p><h4 id="_1-应用层" tabindex="-1">（1）应用层 <a class="header-anchor" href="#_1-应用层" aria-label="Permalink to &quot;（1）应用层&quot;">​</a></h4><p><code>OSI</code>参考模型中最靠近用户的一层，是为计算机用户提供应用接口，也为用户直接提供各种网络服务。我们常见应用层的网络服务协议有：<code>HTTP</code>，<code>HTTPS</code>，<code>FTP</code>，<code>POP3</code>、<code>SMTP</code>等。</p><ul><li>在客户端与服务器中经常会有数据的请求，这个时候就是会用到<code>http(hyper text transfer protocol)(超文本传输协议)</code>或者<code>https</code>.在后端设计数据接口时，我们常常使用到这个协议。</li><li><code>FTP</code>是文件传输协议，在开发过程中，个人并没有涉及到，但是我想，在一些资源网站，比如百度网盘``迅雷应该是基于此协议的。</li><li><code>SMTP</code>是<code>simple mail transfer protocol（简单邮件传输协议）</code>。在一个项目中，在用户邮箱验证码登录的功能时，使用到了这个协议。</li></ul><h4 id="_2-表示层" tabindex="-1">（2）表示层 <a class="header-anchor" href="#_2-表示层" aria-label="Permalink to &quot;（2）表示层&quot;">​</a></h4><p>表示层提供各种用于应用层数据的编码和转换功能,确保一个系统的应用层发送的数据能被另一个系统的应用层识别。如果必要，该层可提供一种标准表示形式，用于将计算机内部的多种数据格式转换成通信中采用的标准表示形式。数据压缩和加密也是表示层可提供的转换功能之一。</p><p>在项目开发中，为了方便数据传输，可以使用base64对数据进行编解码。如果按功能来划分，base64应该是工作在表示层。</p><h4 id="_3-会话层" tabindex="-1">（3）会话层 <a class="header-anchor" href="#_3-会话层" aria-label="Permalink to &quot;（3）会话层&quot;">​</a></h4><p>会话层就是负责建立、管理和终止表示层实体之间的通信会话。该层的通信由不同设备中的应用程序之间的服务请求和响应组成。</p><h4 id="_4-传输层" tabindex="-1">（4）传输层 <a class="header-anchor" href="#_4-传输层" aria-label="Permalink to &quot;（4）传输层&quot;">​</a></h4><p>传输层建立了主机端到端的链接，传输层的作用是为上层协议提供端到端的可靠和透明的数据传输服务，包括处理差错控制和流量控制等问题。该层向高层屏蔽了下层数据通信的细节，使高层用户看到的只是在两个传输实体间的一条主机到主机的、可由用户控制和设定的、可靠的数据通路。我们通常说的，<code>TCP</code> <code>UDP</code>就是在这一层。端口号既是这里的“端”。</p><h4 id="_5-网络层" tabindex="-1">（5）网络层 <a class="header-anchor" href="#_5-网络层" aria-label="Permalink to &quot;（5）网络层&quot;">​</a></h4><p>本层通过<code>IP</code>寻址来建立两个节点之间的连接，为源端的运输层送来的分组，选择合适的路由和交换节点，正确无误地按照地址传送给目的端的运输层。就是通常说的<code>IP</code>层。这一层就是我们经常说的<code>IP</code>协议层。<code>IP</code>协议是<code>Internet</code>的基础。我们可以这样理解，网络层规定了数据包的传输路线，而传输层则规定了数据包的传输方式。</p><h4 id="_6-数据链路层" tabindex="-1">（6）数据链路层 <a class="header-anchor" href="#_6-数据链路层" aria-label="Permalink to &quot;（6）数据链路层&quot;">​</a></h4><p>将比特组合成字节,再将字节组合成帧,使用链路层地址 (以太网使用MAC地址)来访问介质,并进行差错检测。</p><p>网络层与数据链路层的对比，通过上面的描述，我们或许可以这样理解，网络层是规划了数据包的传输路线，而数据链路层就是传输路线。不过，在数据链路层上还增加了差错控制的功能。</p><h4 id="_7-物理层" tabindex="-1">（7）物理层 <a class="header-anchor" href="#_7-物理层" aria-label="Permalink to &quot;（7）物理层&quot;">​</a></h4><p>实际最终信号的传输是通过物理层实现的。通过物理介质传输比特流。规定了电平、速度和电缆针脚。常用设备有（各种物理设备）集线器、中继器、调制解调器、网线、双绞线、同轴电缆。这些都是物理层的传输介质。</p><p><strong>OSI七层模型通信特点：对等通信</strong></p><p>对等通信，为了使数据分组从源传送到目的地，源端OSI模型的每一层都必须与目的端的对等层进行通信，这种通信方式称为对等层通信。在每一层通信过程中，使用本层自己协议进行通信。</p><h3 id="_2-tcp-ip五层协议" tabindex="-1">2. TCP/IP五层协议 <a class="header-anchor" href="#_2-tcp-ip五层协议" aria-label="Permalink to &quot;2. TCP/IP五层协议&quot;">​</a></h3><p><code>TCP/IP</code>五层协议和<code>OSI</code>的七层协议对应关系如下： <img src="/vitepress/assets/img4.DRqlQ5Z_.png" alt="img4"></p><ul><li><strong>应用层 (application layer)</strong>：直接为应用进程提供服务。应用层协议定义的是应用进程间通讯和交互的规则，不同的应用有着不同的应用层协议，如 HTTP协议（万维网服务）、FTP协议（文件传输）、SMTP协议（电子邮件）、DNS（域名查询）等。</li><li><strong>传输层 (transport layer)</strong>：有时也译为运输层，它负责为两台主机中的进程提供通信服务。该层主要有以下两种协议： <ul><li>传输控制协议 (Transmission Control Protocol，TCP)：提供面向连接的、可靠的数据传输服务，数据传输的基本单位是报文段（segment）；</li><li>用户数据报协议 (User Datagram Protocol，UDP)：提供无连接的、尽最大努力的数据传输服务，但不保证数据传输的可靠性，数据传输的基本单位是用户数据报。</li></ul></li><li><strong>网络层 (internet layer)</strong>：有时也译为网际层，它负责为两台主机提供通信服务，并通过选择合适的路由将数据传递到目标主机。</li><li><strong>数据链路层 (data link layer)</strong>：负责将网络层交下来的 IP 数据报封装成帧，并在链路的两个相邻节点间传送帧，每一帧都包含数据和必要的控制信息（如同步信息、地址信息、差错控制等）。</li><li><strong>物理层 (physical Layer)</strong>：确保数据可以在各种物理媒介上进行传输，为数据的传输提供可靠的环境。</li></ul><p>从上图中可以看出，<code>TCP/IP</code>模型比<code>OSI</code>模型更加简洁，它把<code>应用层/表示层/会话层</code>全部整合为了<code>应用层</code>。</p><p>在每一层都工作着不同的设备，比如我们常用的交换机就工作在数据链路层的，一般的路由器是工作在网络层的。 <img src="/vitepress/assets/img5.Dvz6huvd.webp" alt="img5"> 在每一层实现的协议也各不同，即每一层的服务也不同，下图列出了每层主要的传输协议： <img src="/vitepress/assets/img6.BZVGLsAg.webp" alt="img6"> 同样，<code>TCP/IP</code>五层协议的通信方式也是对等通信： <img src="/vitepress/assets/img7.CzykLE0s.png" alt="img7"></p><h3 id="_3、谈谈你对域名缓存的了解" tabindex="-1">3、谈谈你对域名缓存的了解？ <a class="header-anchor" href="#_3、谈谈你对域名缓存的了解" aria-label="Permalink to &quot;3、谈谈你对域名缓存的了解？&quot;">​</a></h3><p>为了提高 DNS 查询效率，并减轻服务器的负荷和减少因特网上的 DNS 查询报文数量，在域名服务器中广泛使用了高速缓存，用来存放最近查询过的域名以及从何处获得域名映射信息的记录。</p><p>由于名字到地址的绑定并不经常改变，为保持高速缓存中的内容正确，域名服务器应为每项内容设置计时器并处理超过合理时间的项（例如：每个项目两天）。当域名服务器已从缓存中删去某项信息后又被请求查询该项信息，就必须重新到授权管理该项的域名服务器绑定信息。当权限服务器回答一个查询请求时，在响应中都指明绑定有效存在的时间值。增加此时间值可减少网络开销，而减少此时间值可提高域名解析的正确性。</p><p>不仅在本地域名服务器中需要高速缓存，在主机中也需要。许多主机在启动时从本地服务器下载名字和地址的全部数据库，维护存放自己最近使用的域名的高速缓存，并且只在从缓存中找不到名字时才使用域名服务器。维护本地域名服务器数据库的主机应当定期地检查域名服务器以获取新的映射信息，而且主机必须从缓存中删除无效的项。由于域名改动并不频繁，大多数网点不需花精力就能维护数据库的一致性。</p><h3 id="_4、谈下你对-http-长连接和短连接的理解-分别应用于哪些场景" tabindex="-1">4、谈下你对 HTTP 长连接和短连接的理解？分别应用于哪些场景？ <a class="header-anchor" href="#_4、谈下你对-http-长连接和短连接的理解-分别应用于哪些场景" aria-label="Permalink to &quot;4、谈下你对 HTTP 长连接和短连接的理解？分别应用于哪些场景？&quot;">​</a></h3><p>在 HTTP/1.0 中默认使用短连接。也就是说，客户端和服务器每进行一次 HTTP 操作，就建立一次连接，任务结束就中断连接。当客户端浏览器访问的某个 HTML 或其他类型的 Web 页中包含有其他的 Web 资源（如：JavaScript 文件、图像文件、CSS 文件等），每遇到这样一个 Web 资源，浏览器就会重新建立一个 HTTP 会话。</p><p>而从 HTTP/1.1 起，默认使用长连接，用以保持连接特性。使用长连接的 HTTP 协议，会在响应头加入这行代码：</p><div class="language-ruby vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Connection:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keep</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">alive</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输 HTTP 数据的 TCP 连接不会关闭，客户端再次访问这个服务器时，会继续使用这一条已经建立的连接。</p><p>Keep-Alive 不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如：Apache）中设定这个时间。实现长连接需要客户端和服务端都支持长连接。</p><h3 id="_5、https-的工作过程" tabindex="-1">5、HTTPS 的工作过程？ <a class="header-anchor" href="#_5、https-的工作过程" aria-label="Permalink to &quot;5、HTTPS 的工作过程？&quot;">​</a></h3><ol><li>客户端发送自己支持的加密规则给服务器，代表告诉服务器要进行连接了；</li><li>服务器从中选出一套加密算法和 hash 算法以及自己的身份信息（地址等）以证书的形式发送给浏览器，证书中包含服务器信息，加密公钥，证书的办法机构；</li><li>客户端收到网站的证书之后要做下面的事情： <ul><li>验证证书的合法性；</li><li>果验证通过证书，浏览器会生成一串随机数，并用证书中的公钥进行加密；</li><li>用约定好的 hash 算法计算握手消息，然后用生成的密钥进行加密，然后一起发送给服务器。</li></ul></li><li>服务器接收到客户端传送来的信息，要做下面的事情： <ul><li>4.1 用私钥解析出密码，用密码解析握手消息，验证 hash 值是否和浏览器发来的一致；</li><li>4.2 使用密钥加密消息；</li></ul></li><li>如果计算法 hash 值一致，握手成功。</li></ol><h3 id="_6、http-和-https-的区别" tabindex="-1">6、HTTP 和 HTTPS 的区别？ <a class="header-anchor" href="#_6、http-和-https-的区别" aria-label="Permalink to &quot;6、HTTP 和 HTTPS 的区别？&quot;">​</a></h3><ol><li>开销：HTTPS 协议需要到 CA 申请证书，一般免费证书很少，需要交费；</li><li>资源消耗：HTTP 是超文本传输协议，信息是明文传输，HTTPS 则是具有安全性的 ssl 加密传输协议，需要消耗更多的 CPU 和内存资源；</li><li>端口不同：HTTP 和 HTTPS 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443；</li><li>安全性：HTTP 的连接很简单，是无状态的；HTTPS 协议是由 TSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全</li></ol><h3 id="_7、https-的优缺点" tabindex="-1">7、HTTPS 的优缺点？ <a class="header-anchor" href="#_7、https-的优缺点" aria-label="Permalink to &quot;7、HTTPS 的优缺点？&quot;">​</a></h3><p><strong>优点：</strong></p><ol><li>使用 HTTPS 协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；</li><li>HTTPS 协议是由 SSL + HTTP 协议构建的可进行加密传输、身份认证的网络协议，要比 HTTP 协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性；</li><li>HTTPS 是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。</li></ol><p><strong>缺点：</strong></p><ol><li>HTTPS 协议握手阶段比较费时，会使页面的加载时间延长近 50%，增加 10% 到 20% 的耗电；</li><li>HTTPS 连接缓存不如 HTTP 高效，会增加数据开销和功耗，甚至已有的安全措施也会因此而受到影响；</li><li>SSL 证书需要钱，功能越强大的证书费用越高，个人网站、小网站没有必要一般不会用；</li><li>SSL 证书通常需要绑定 IP，不能在同一 IP 上绑定多个域名，IPv4 资源不可能支撑这个消耗；</li><li>HTTPS 协议的加密范围也比较有限，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用。最关键的，SSL 证书的信用链体系并不安全，特别是在某些国家可以控制 CA 根证书的情况下，中间人攻击一样可行。</li></ol><h3 id="_8、什么是数字签名" tabindex="-1">8、什么是数字签名？ <a class="header-anchor" href="#_8、什么是数字签名" aria-label="Permalink to &quot;8、什么是数字签名？&quot;">​</a></h3><p>为了避免数据在传输过程中被替换，比如黑客修改了你的报文内容，但是你并不知道，所以我们让发送端做一个数字签名，把数据的摘要消息进行一个加密，比如 MD5，得到一个签名，和数据一起发送。然后接收端把数据摘要进行 MD5 加密，如果和签名一样，则说明数据确实是真的。</p><h3 id="_9、什么是数字证书" tabindex="-1">9、什么是数字证书？ <a class="header-anchor" href="#_9、什么是数字证书" aria-label="Permalink to &quot;9、什么是数字证书？&quot;">​</a></h3><p>对称加密中，双方使用公钥进行解密。虽然数字签名可以保证数据不被替换，但是数据是由公钥加密的，如果公钥也被替换，则仍然可以伪造数据，因为用户不知道对方提供的公钥其实是假的。所以为了保证发送方的公钥是真的，CA 证书机构会负责颁发一个证书，里面的公钥保证是真的，用户请求服务器时，服务器将证书发给用户，这个证书是经由系统内置证书的备案的。</p><h3 id="_10、cookie-和-session-有什么区别" tabindex="-1">10、Cookie 和 Session 有什么区别？ <a class="header-anchor" href="#_10、cookie-和-session-有什么区别" aria-label="Permalink to &quot;10、Cookie 和 Session 有什么区别？&quot;">​</a></h3><ol><li>由于HTTP协议是无状态的协议，所以服务端需要记录用户的状态时，就需要用某种机制来识具体的用户，这个机制就是Session.典型的场景比如购物车。 当你点击下单按钮时，由于HTTP协议无状态，所以并不知道是哪个用户操作的，所以服务端要为特定的用户创建了特定的Session，用用于标识这个用户，并且跟踪用户，这样才知道购物车里面有几本书。 这个Session是保存在服务端的，有一个唯一标识。在服务端保存Session的方法很多，内存、数据库、文件都有。集群的时候也要考虑Session的转移，在大型的网站，一般会有专门的Session服务器集群，用来保存用户会话，这个时候 Session 信息都是放在内存的，使用一些缓存服务比如Memcached之类的来放 Session。</li><li>思考一下服务端如何识别特定的客户？这个时候Cookie就登场了。每次HTTP请求的时候，客户端都会发送相应的Cookie信息到服务端。实际上大多数的应用都是用 Cookie 来实现Session跟踪的，第一次创建Session的时候，服务端会在HTTP协议中告诉客户端，需要在 Cookie 里面记录一个Session ID，以后每次请求把这个会话ID发送到服务器，我就知道你是谁了。 有人问，如果客户端的浏览器禁用了 Cookie 怎么办？一般这种情况下，会使用一种叫做URL重写的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如 sid=xxxxx 这样的参数，服务端据此来识别用户。</li><li>Cookie其实还可以用在一些方便用户的场景下，设想你某次登陆过一个网站，下次登录的时候不想再次输入账号了，怎么办？这个信息可以写到Cookie里面，访问网站的时候，网站页面的脚本可以读取这个信息，就自动帮你把用户名给填了，能够方便一下用户。这也是Cookie名称的由来，给用户的一点甜头。</li></ol><p>所以，总结一下：</p><p>Session是在服务端保存的一个数据结构，用来跟踪用户的状态，这个数据可以保存在集群、数据库、文件中。<br> Cookie是客户端保存用户信息的一种机制，用来记录用户的一些信息，也是实现Session的一种方式。</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><div class="edit-info" data-v-d4a0bba5><!----><div class="last-updated" data-v-d4a0bba5><p class="VPLastUpdated" data-v-d4a0bba5 data-v-7e05ebdb>更新时间: <time datetime="2024-12-25T02:20:41.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><!----></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/vitepress/q&amp;a/html/" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>下一篇</span><span class="title" data-v-d4a0bba5>HTML</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div><!--[--><css-render-style></css-render-style><!--]--><!--]--></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"frontend_algo_index.md\":\"BDmv_UPS\",\"other_excerpt_index.md\":\"D6lKQ7xW\",\"index.md\":\"Dd5jj0v2\",\"backend_node_nest_0-介绍.md\":\"DjPZeDug\",\"other_game_魔兽_index.md\":\"CqhWePnR\",\"backend_node_nest_3-nestjs-cli.md\":\"DPcbQXWR\",\"other_career_index.md\":\"BlYotjRf\",\"q_a_chrome_block4.md\":\"Bwk5odv0\",\"frontend_vue_index.md\":\"DCg8YHv6\",\"q_a_chrome_block3.md\":\"Dis8XIdU\",\"q_a_chrome_block1.md\":\"D13jsPh-\",\"other_game_index.md\":\"CVwnPXZ2\",\"q_a_chrome_block2.md\":\"BJBvzZQl\",\"recommend_book_others_index.md\":\"DAj_7CKH\",\"recommend_video_anime_index.md\":\"CRogefrK\",\"recommend_video_movie_index.md\":\"D7dsNNKr\",\"q_a_js_block1-11-15.md\":\"Df1qgX_f\",\"q_a_network_block5.md\":\"M0Shii4o\",\"backend_node_nest_2-装饰器.md\":\"DIl-kJfK\",\"q_a_network_block4.md\":\"dnpVnfQV\",\"q_a_network_block1.md\":\"D4lWrpsT\",\"q_a_chrome_block9.md\":\"BjpeHBHI\",\"q_a_chrome_block6.md\":\"DdL74n1N\",\"q_a_chrome_block5.md\":\"DG9N445N\",\"backend_node_nest_1-ioc控制反转di依赖注入.md\":\"wbOqRXor\",\"q_a_js_block1-16-20.md\":\"CM-hoajB\",\"repository_index.md\":\"DHdAyoK6\",\"q_a_performance_index.md\":\"BlFBKguf\",\"q_a_chrome_block8.md\":\"pgPpgOD3\",\"q_a_network_block2.md\":\"B36AeUMK\",\"recommend_video_tv_index.md\":\"C7LCFlrH\",\"q_a_html_index.md\":\"dxyI6ciA\",\"q_a_network_block3.md\":\"CC7teqy-\",\"q_a_network_index.md\":\"DjUG-bE4\",\"q_a_js_block1-1-5.md\":\"BVusB2Zn\",\"recommend_book_technology_index.md\":\"CxMOCIhH\",\"q_a_css_index.md\":\"BETwzDdZ\",\"q_a_chrome_block7.md\":\"CshYskAZ\",\"q_a_js_block1-6-10.md\":\"DXXhF5Jh\",\"q_a_js_index.md\":\"_9Oj3dTE\",\"q_a_chrome_index.md\":\"BnRJnYz_\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"My Awesome Project\",\"description\":\"A VitePress Site\",\"base\":\"/vitepress/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"库\",\"link\":\"/repository\",\"activeMatch\":\"repository\"},{\"text\":\"个人推荐\",\"link\":\"/recommend/video/movie\",\"activeMatch\":\"recommend\"},{\"text\":\"前端\",\"activeMatch\":\"frontend\",\"items\":[{\"text\":\"vue\",\"link\":\"/frontend/vue\"},{\"text\":\"算法\",\"link\":\"/frontend/algo\"}]},{\"text\":\"后端\",\"activeMatch\":\"backend\",\"items\":[{\"text\":\"Node\",\"items\":[{\"text\":\"nestjs\",\"link\":\"/backend/node/nest/0-介绍/\"}]}]},{\"text\":\"Q&A\",\"link\":\"/q&a/html\",\"activeMatch\":\"q&a\"},{\"text\":\"其他\",\"activeMatch\":\"other\",\"items\":[{\"text\":\"游戏\",\"link\":\"/other/game/魔兽/\"}]}],\"sidebar\":{\"/recommend/\":[{\"text\":\"阅读\",\"items\":[{\"text\":\"技术\",\"link\":\"/recommend/book/technology/\"},{\"text\":\"其他\",\"link\":\"/recommend/book/others/\"}]},{\"text\":\"影视\",\"items\":[{\"text\":\"电影\",\"link\":\"/recommend/video/movie/\"},{\"text\":\"电视剧\",\"link\":\"/recommend/video/tv/\"},{\"text\":\"动漫\",\"link\":\"/recommend/video/anime/\"}]}],\"/backend/\":[{\"text\":\"介绍\",\"link\":\"/backend/node/nest/0-介绍\"},{\"text\":\"前置知识\",\"items\":[{\"text\":\"IOC控制反转 DI依赖注入\",\"link\":\"/backend/node/nest/1-IOC控制反转DI依赖注入\"},{\"text\":\"装饰器\",\"link\":\"/backend/node/nest/2-装饰器\"},{\"text\":\"Nestjs cli\",\"link\":\"/backend/node/nest/3-nestjs-cli\"}]}],\"/q&a/\":[{\"text\":\"HTML\",\"link\":\"/q&a/html/\"},{\"text\":\"CSS\",\"link\":\"/q&a/css/\"},{\"text\":\"JS\",\"link\":\"/q&a/js/\"},{\"text\":\"浏览器原理\",\"link\":\"/q&a/chrome/\"},{\"text\":\"性能优化\",\"link\":\"/q&a/performance/\"},{\"text\":\"计算机网络\",\"link\":\"/q&a/network/\"}],\"/other/\":[{\"text\":\"魔兽\",\"link\":\"/other/game/魔兽/\"}]},\"search\":{\"provider\":\"local\"},\"outline\":{\"level\":\"deep\",\"label\":\"本页目录\"},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"lastUpdated\":{\"text\":\"更新时间\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>